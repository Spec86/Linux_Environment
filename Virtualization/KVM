1) –ü—Ä–æ–≤–µ—Ä–∏–º, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ª–∏ –≤–∞—à –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é?
grep -E '(vmx|svm)' /proc/cpuinfo
    –í–Ω–∏–∫–∞—Ç—å –≤ –≤—ã–≤–æ–¥ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞ –Ω–µ –Ω—É–∂–Ω–æ - –≥–ª–∞–≤–Ω–æ–µ, —á—Ç–æ –æ–Ω –µ—Å—Ç—å. –ï—Å–ª–∏ –≤ –æ—Ç–≤–µ—Ç –Ω–∞ –≤–≤–æ–¥ —ç—Ç–æ–π –∫–æ–º–∞–Ω–¥—ã - —Ç–∏—à–∏–Ω–∞, —Ç–æ –≤–∞—à –ø—Ä–æ—Ü–µ—Å—Å–æ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—é.

2) –ü—Ä–æ–≤–µ—Ä–∏–º –ø–æ–¥–¥–µ—Ä–∂–∫—É –∞–ø–ø–∞—Ä–∞—Ç–Ω–æ–π –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏–∏?
kvm-ok
sudo apt install cpu-checker
kvm-ok
    –í –æ—Ç–≤–µ—Ç –≤—ã –¥–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å —Å–ª–µ–¥—É—é—â–∏–π –≤—ã–≤–æ–¥:
    INFO: /dev/kvm exists
    KVM acceleration can be used

3) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞–∫–µ—Ç—ã, –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å KVM
sudo apt install qemu-kvm libvirt-bin ubuntu-vm-builder bridge-utils

4) –ü—Ä–∏ –∂–µ–ª–∞–Ω–∏–∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –≥—Ä–∞—Ñ–∏—á–µ—Å–∫—É—é –æ–±–æ–ª–æ—á–∫—É –¥–ª—è libvirt
sudo apt install virt-manager


5) –í –∫–∞—Ç–∞–ª–æ–≥ /iso –ø–æ–º–µ—Å—Ç–∏—Ç—å ISO-–æ–±—Ä–∞–∑ —Å–∫–∞—á–∞–Ω–Ω–æ–≥–æ –∏–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞ –¥–∏—Å—Ç—Ä–∏–±—É—Ç–∏–≤–∞ ubuntu-24.04.1-server-amd64.iso

6) –°–æ–∑–¥–∞–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
sudo virt-install \
  --virt-type=kvm \
  --name myubuntu2024 \
  --ram 2048 \
  --vcpus=2 \
  --os-variant=ubuntu24.04 \
  --hvm \
  --cdrom=/iso/ubuntu-24.04.1-server-amd64.iso \
  --network network=default,model=virtio \
  --graphics vnc \
  --disk path=/var/lib/libvirt/images/ubuntu2024.img,size=20,bus=virtio

–û–±—Ä–∞–∑ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –º—ã –±—É–¥–µ–º —Ö—Ä–∞–Ω–∏—Ç—å –≤ –∫–∞—Ç–∞–ª–æ–≥–µ /var/lib/libvirt/images/
–ü–∞—Ä–∞–º–µ—Ç—Ä size=20 –∑–∞–¥–∞–µ—Ç —Ä–∞–∑–º–µ—Ä –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –¥–∏—Å–∫–∞ –≤ –≥–∏–≥–∞–±–∞–π—Ç–∞—Ö.

7) –î–∞–ª–µ–µ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —É—Å—Ç–∞–Ω–æ–≤–∫—É —á–µ—Ä–µ–∑ VNC.
    –£–∑–Ω–∞–µ–º –Ω–∞ –∫–∞–∫–æ–º –ü–û–†–¢–£ —Ä–∞–±–æ—Ç–∞–µ—Ç VNC:
    virsh dumpxml myubuntu2024
    –û–±—ã—á–Ω–æ –ø–æ—Ä—Ç 5900 –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∞–¥—Ä–µ—Å–µ 127.0.0.1

8) –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ tcp forwarding —Ä–∞–∑—Ä–µ—à–µ–Ω —É —Å–ª—É–∂–±—ã ssh.
    –î–ª—è —ç—Ç–æ–≥–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ sshd:
    cat /etc/ssh/sshd_config | grep AllowTcpForwarding
    AllowTcpForwarding yes
    –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å sshd

9) –í—ã–ø–æ–ª–Ω—è–µ–º –∫–æ–º–∞–Ω–¥—É –Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:
ssh -fN -l login -L 127.0.0.1:5900:localhost:5900 server_ip
–ó–¥–µ—Å—å –º—ã –Ω–∞—Å—Ç—Ä–æ–∏–ª–∏ ssh port forwarding —Å –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –ø–æ—Ä—Ç–∞ 5900 –Ω–∞ —Å–µ—Ä–≤–µ—Ä–Ω—ã–π –ø–æ—Ä—Ç 5900. –í–º–µ—Å—Ç–æ server_ip –Ω—É–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –≤–∞—à IP-–∞–¥—Ä–µ—Å –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏.

üîµ –ß—Ç–æ —Ç–∞–∫–æ–µ IP-–∞–¥—Ä–µ—Å –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏?
–≠—Ç–æ –ª–æ–∫–∞–ª—å–Ω—ã–π (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π) IP-–∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –≤ –≤–∞—à–µ–π –¥–æ–º–∞—à–Ω–µ–π/–æ—Ñ–∏—Å–Ω–æ–π —Å–µ—Ç–∏ ‚Äî –Ω–µ –≤–Ω–µ—à–Ω–∏–π, –Ω–µ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-IP.
–ü—Ä–∏–º–µ—Ä—ã –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö IP-–∞–¥—Ä–µ—Å–æ–≤:
| –î–∏–∞–ø–∞–∑–æ–Ω              | –ü—Ä–∏–º–µ—Ä       |
| --------------------- | ------------ |
| 192.168.x.x           | 192.168.1.25 |
| 10.x.x.x              | 10.0.0.7     |
| 172.16.x.x‚Äì172.31.x.x | 172.16.5.100 |

–≠—Ç–æ —Ç–æ—Ç –∞–¥—Ä–µ—Å, –∫–æ—Ç–æ—Ä—ã–π –≤–∞—à —Ä–æ—É—Ç–µ—Ä –≤—ã–¥–∞—ë—Ç —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞–º —á–µ—Ä–µ–∑ DHCP.
üîµ –ö–æ–≥–¥–∞ —ç—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è?
–≠—Ç–∞ –∫–æ–º–∞–Ω–¥–∞:
ssh -fN -l login -L 127.0.0.1:5900:localhost:5900 server_ip
–Ω—É–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å –Ω–∞:
ssh -fN -l login -L 127.0.0.1:5900:localhost:5900 192.168.1.25
–µ—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä KVM –Ω–∞—Ö–æ–¥–∏—Ç—Å—è –≤ —Ç–æ–π –∂–µ —Å–µ—Ç–∏, —á—Ç–æ –∏ –≤–∞—à –∫–æ–º–ø—å—é—Ç–µ—Ä.

–¢–æ –µ—Å—Ç—å:
    –°–µ—Ä–≤–µ—Ä —Å—Ç–æ–∏—Ç —É –≤–∞—Å –¥–æ–º–∞, –ø–æ–¥–∫–ª—é—á—ë–Ω –∫ –≤–∞—à–µ–º—É —Ä–æ—É—Ç–µ—Ä—É.
    –ò–ª–∏ –≤–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ –¥—Ä—É–≥–æ–º –ü–ö –≤ –≤–∞—à–µ–π –∂–µ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏.
    –ò –≤—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å –∏–∑–Ω—É—Ç—Ä–∏ LAN, –∞ –Ω–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç.

üîµ –ö–∞–∫ —É–∑–Ω–∞—Ç—å IP –∞–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ –≤–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π —Å–µ—Ç–∏
–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
    ip a
    –∏–ª–∏
    hostname -I

    –í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:
    192.168.1.25
    –≠—Ç–æ—Ç –∞–¥—Ä–µ—Å –∏ –Ω—É–∂–Ω–æ –ø–æ–¥—Å—Ç–∞–≤–∏—Ç—å –≤–º–µ—Å—Ç–æ server_ip.

üîµ –ï—Å–ª–∏ —Å–µ—Ä–≤–µ—Ä –ù–ï –≤ –ª–æ–∫–∞–ª—å–Ω–æ–π —Å–µ—Ç–∏
–ù–∞–ø—Ä–∏–º–µ—Ä:
    VPS –Ω–∞ time4vps
    –°–µ—Ä–≤–µ—Ä –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ
    –°–µ—Ä–≤–µ—Ä –≤ –¥—Ä—É–≥–æ–º –≥–æ—Ä–æ–¥–µ
    –í—ã –ø–æ–¥–∫–ª—é—á–∞–µ—Ç–µ—Å—å —á–µ—Ä–µ–∑ –±–µ–ª—ã–π IP
    –¢–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP –Ω–µ –Ω—É–∂–Ω–æ ‚Äî –Ω—É–∂–Ω–æ —É–∫–∞–∑—ã–≤–∞—Ç—å –≤–Ω–µ—à–Ω–∏–π (–ø—É–±–ª–∏—á–Ω—ã–π) IP —Å–µ—Ä–≤–µ—Ä–∞, –Ω–∞–ø—Ä–∏–º–µ—Ä:
    ssh -fN -l login -L 127.0.0.1:5900:localhost:5900 45.67.120.51

üü¢ –ö—Ä–∞—Ç–∫–æ:
| –ì–¥–µ –Ω–∞—Ö–æ–¥–∏—Ç—Å—è —Å–µ—Ä–≤–µ—Ä?       | –ß—Ç–æ —Å—Ç–∞–≤–∏—Ç—å –≤–º–µ—Å—Ç–æ `server_ip`      |
| --------------------------- | ----------------------------------- |
| –î–æ–º–∞, –≤ –≤–∞—à–µ–π WIFI/LAN —Å–µ—Ç–∏ | 192.168.x.x –∏–ª–∏ 10.x.x.x            |
| –ù–∞ VPS –∏–ª–∏ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–µ      | –ü—É–±–ª–∏—á–Ω—ã–π IP (–Ω–∞–ø—Ä–∏–º–µ—Ä 45.67.xx.xx) |


–¢–µ–ø–µ—Ä—å —É–∂–µ –º–æ–∂–Ω–æ –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ VNC, –∏—Å–ø–æ–ª—å–∑—É—è –ª—é–±–æ–π VNC-–∫–ª–∏–µ–Ω—Ç. –ù–∞–ø—Ä–∏–º–µ—Ä, UltraVNC.
–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –æ–∫–Ω–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏—è –Ω–∞—á–∞–ª–∞ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ Ubuntu.

