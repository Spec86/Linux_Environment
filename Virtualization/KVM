1) Проверим, поддерживает ли ваш процессор виртуализацию?
grep -E '(vmx|svm)' /proc/cpuinfo
    Вникать в вывод терминала не нужно - главное, что он есть. Если в ответ на ввод этой команды - тишина, то ваш процессор не поддерживает виртуализацию.

2) Проверим поддержку аппаратной виртуализации?
kvm-ok
sudo apt install cpu-checker
kvm-ok
    В ответ вы должны увидеть следующий вывод:
    INFO: /dev/kvm exists
    KVM acceleration can be used

3) Установить пакеты, необходимые для работы с KVM
sudo apt install qemu-kvm libvirt-bin ubuntu-vm-builder bridge-utils

4) При желании установить графическую оболочку для libvirt
sudo apt install virt-manager


5) В каталог /iso поместить ISO-образ скачанного из интернета дистрибутива ubuntu-24.04.1-server-amd64.iso

6) Создание виртуального сервера
sudo virt-install \
  --virt-type=kvm \
  --name myubuntu2024 \
  --ram 2048 \
  --vcpus=2 \
  --os-variant=ubuntu24.04 \
  --hvm \
  --cdrom=/iso/ubuntu-24.04.1-server-amd64.iso \
  --network network=default,model=virtio \
  --graphics vnc \
  --disk path=/var/lib/libvirt/images/ubuntu2024.img,size=20,bus=virtio

Образ виртуального диска мы будем хранить в каталоге /var/lib/libvirt/images/
Параметр size=20 задает размер виртуального диска в гигабайтах.

7) Далее продолжаем установку через VNC.
    Узнаем на каком ПОРТУ работает VNC:
    virsh dumpxml myubuntu2024

8) Убедиться, что tcp forwarding разрешен у службы ssh.
    Для этого проверить настройки sshd:
    cat /etc/ssh/sshd_config | grep AllowTcpForwarding
    AllowTcpForwarding yes
    Перезагрузить sshd

